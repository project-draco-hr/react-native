{
  PowerMockito.mockStatic(RequestBodyUtil.class);
  when(RequestBodyUtil.getFileInputStream(any(ReactContext.class),any(String.class))).thenReturn(mock(InputStream.class));
  when(RequestBodyUtil.create(any(MediaType.class),any(InputStream.class))).thenReturn(mock(RequestBody.class));
  SimpleMap body=new SimpleMap();
  SimpleArray formData=new SimpleArray();
  SimpleMap bodyPart=new SimpleMap();
  bodyPart.putString("string","value");
  bodyPart.putArray("headers",SimpleArray.from(Arrays.asList(SimpleArray.of("content-disposition","name"))));
  formData.pushMap(bodyPart);
  body.putArray("formData",formData);
  OkHttpClient httpClient=mock(OkHttpClient.class);
  when(httpClient.newCall(any(Request.class))).thenAnswer(new Answer<Object>(){
    @Override public Object answer(    InvocationOnMock invocation) throws Throwable {
      Call callMock=mock(Call.class);
      return callMock;
    }
  }
);
  NetworkingModule networkingModule=new NetworkingModule(null,"",httpClient);
  networkingModule.sendRequest("POST","http://someurl/uploadFoo",0,new SimpleArray(),body,true);
  ArgumentCaptor<Request> argumentCaptor=ArgumentCaptor.forClass(Request.class);
  verify(httpClient).newCall(argumentCaptor.capture());
  assertThat(argumentCaptor.getValue().urlString()).isEqualTo("http://someurl/uploadFoo");
  assertThat(argumentCaptor.getValue().method()).isEqualTo("POST");
  assertThat(argumentCaptor.getValue().body().contentType().type()).isEqualTo(MultipartBuilder.FORM.type());
  assertThat(argumentCaptor.getValue().body().contentType().subtype()).isEqualTo(MultipartBuilder.FORM.subtype());
  Headers requestHeaders=argumentCaptor.getValue().headers();
  assertThat(requestHeaders.size()).isEqualTo(1);
}
