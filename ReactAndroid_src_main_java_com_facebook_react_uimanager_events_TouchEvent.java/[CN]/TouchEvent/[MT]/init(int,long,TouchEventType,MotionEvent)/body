{
  super.init(viewTag,timestampMs);
  short coalescingKey=0;
  int action=(motionEventToCopy.getAction() & MotionEvent.ACTION_MASK);
switch (action) {
case MotionEvent.ACTION_DOWN:
    TouchEventCoalescingKeyHelper.addCoalescingKey(motionEventToCopy.getDownTime());
  break;
case MotionEvent.ACTION_UP:
TouchEventCoalescingKeyHelper.removeCoalescingKey(motionEventToCopy.getDownTime());
break;
case MotionEvent.ACTION_POINTER_DOWN:
case MotionEvent.ACTION_POINTER_UP:
TouchEventCoalescingKeyHelper.incrementCoalescingKey(motionEventToCopy.getDownTime());
break;
case MotionEvent.ACTION_MOVE:
coalescingKey=TouchEventCoalescingKeyHelper.getCoalescingKey(motionEventToCopy.getDownTime());
break;
case MotionEvent.ACTION_CANCEL:
TouchEventCoalescingKeyHelper.removeCoalescingKey(motionEventToCopy.getDownTime());
break;
default :
throw new RuntimeException("Unhandled MotionEvent action: " + action);
}
mTouchEventType=touchEventType;
mMotionEvent=MotionEvent.obtain(motionEventToCopy);
mCoalescingKey=coalescingKey;
}
