{
  UiThreadUtil.assertOnUiThread();
  View viewToUpdate=mTagsToViews.get(tag);
  if (viewToUpdate == null) {
    throw new IllegalViewOperationException("Trying to update view with tag " + tag + " which "+ "doesn't exist");
  }
  viewToUpdate.measure(View.MeasureSpec.makeMeasureSpec(width,View.MeasureSpec.EXACTLY),View.MeasureSpec.makeMeasureSpec(height,View.MeasureSpec.EXACTLY));
  if (!mRootTags.get(parentTag)) {
    ViewManager parentViewManager=mTagsToViewManagers.get(parentTag);
    ViewGroupManager parentViewGroupManager;
    if (parentViewManager instanceof ViewGroupManager) {
      parentViewGroupManager=(ViewGroupManager)parentViewManager;
    }
 else {
      throw new IllegalViewOperationException("Trying to use view with tag " + tag + " as a parent, but its Manager doesn't extends ViewGroupManager");
    }
    if (parentViewGroupManager != null && !parentViewGroupManager.needsCustomLayoutForChildren()) {
      updateLayout(viewToUpdate,x,y,width,height);
    }
  }
 else {
    updateLayout(viewToUpdate,x,y,width,height);
  }
}
