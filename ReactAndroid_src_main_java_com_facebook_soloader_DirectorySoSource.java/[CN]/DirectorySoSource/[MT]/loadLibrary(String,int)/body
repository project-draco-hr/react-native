{
  File soFile=new File(soDirectory,soName);
  if (!soFile.exists()) {
    return LOAD_RESULT_NOT_FOUND;
  }
  if ((loadFlags & LOAD_FLAG_ALLOW_IMPLICIT_PROVISION) != 0 && (flags & ON_LD_LIBRARY_PATH) != 0) {
    return LOAD_RESULT_IMPLICITLY_PROVIDED;
  }
  if ((flags & RESOLVE_DEPENDENCIES) != 0) {
    String dependencies[]=MinElf.extract_DT_NEEDED(soFile);
    for (int i=0; i < dependencies.length; ++i) {
      String dependency=dependencies[i];
      if (dependency.startsWith("/")) {
        continue;
      }
      SoLoader.loadLibraryBySoName(dependency,(loadFlags | LOAD_FLAG_ALLOW_IMPLICIT_PROVISION));
    }
  }
  System.load(soFile.getAbsolutePath());
  return LOAD_RESULT_LOADED;
}
