{
  mCatalystQueueConfiguration=CatalystQueueConfiguration.create(catalystQueueConfigurationSpec,new NativeExceptionHandler());
  mBridgeIdleListeners=new CopyOnWriteArrayList<NotThreadSafeBridgeIdleDebugListener>();
  mJavaRegistry=registry;
  mNativeModuleCallExceptionHandler=nativeModuleCallExceptionHandler;
  final CountDownLatch initLatch=new CountDownLatch(1);
  mCatalystQueueConfiguration.getJSQueueThread().runOnQueue(new Runnable(){
    @Override public void run(){
      initializeBridge(jsExecutor,registry,jsModulesConfig,jsBundleLoader);
      mJSModuleRegistry=new JavaScriptModuleRegistry(CatalystInstance.this,jsModulesConfig);
      initLatch.countDown();
    }
  }
);
  try {
    Assertions.assertCondition(initLatch.await(BRIDGE_SETUP_TIMEOUT_MS,TimeUnit.MILLISECONDS),"Timed out waiting for bridge to initialize!");
  }
 catch (  InterruptedException e) {
    throw new RuntimeException(e);
  }
}
