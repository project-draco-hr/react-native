{
  mCatalystQueueConfiguration=CatalystQueueConfiguration.create(catalystQueueConfigurationSpec,new NativeExceptionHandler());
  mBridgeIdleListeners=new CopyOnWriteArrayList<>();
  mJavaRegistry=registry;
  mJSModuleRegistry=new JavaScriptModuleRegistry(CatalystInstance.this,jsModulesConfig);
  mJSBundleLoader=jsBundleLoader;
  mNativeModuleCallExceptionHandler=nativeModuleCallExceptionHandler;
  mTraceListener=new JSProfilerTraceListener();
  Systrace.registerListener(mTraceListener);
  final CountDownLatch initLatch=new CountDownLatch(1);
  mCatalystQueueConfiguration.getJSQueueThread().runOnQueue(new Runnable(){
    @Override public void run(){
      initializeBridge(jsExecutor,jsModulesConfig);
      initLatch.countDown();
    }
  }
);
  try {
    Assertions.assertCondition(initLatch.await(BRIDGE_SETUP_TIMEOUT_MS,TimeUnit.MILLISECONDS),"Timed out waiting for bridge to initialize!");
  }
 catch (  InterruptedException e) {
    throw new RuntimeException(e);
  }
}
