{
  ImagePipeline imagePipeline=ImagePipelineFactory.getInstance().getImagePipeline();
  final double targetImageSize=getWidth() * getHeight();
  double bestPrecision=Double.MAX_VALUE;
  double bestCachePrecision=Double.MAX_VALUE;
  for (  ImageSource source : mSources) {
    final double precision=Math.abs(1.0 - (source.getSize()) / targetImageSize);
    if (precision < bestPrecision) {
      bestPrecision=precision;
      mImageSource=source;
    }
    if (precision < bestCachePrecision && (imagePipeline.isInBitmapMemoryCache(source.getUri()) || imagePipeline.isInDiskCacheSync(source.getUri()))) {
      bestCachePrecision=precision;
      mCachedImageSource=source;
    }
  }
  if (mCachedImageSource != null && mImageSource.getSource().equals(mCachedImageSource.getSource())) {
    mCachedImageSource=null;
  }
}
