{
  if (mWebSocket == null) {
    triggerRequestFailure(requestID,new IllegalStateException("WebSocket connection no longer valid"));
    return;
  }
  Buffer messageBuffer=new Buffer();
  messageBuffer.writeUtf8(message);
  try {
    mWebSocket.sendMessage(WebSocket.PayloadType.TEXT,messageBuffer);
  }
 catch (  IOException e) {
    triggerRequestFailure(requestID,e);
  }
}
