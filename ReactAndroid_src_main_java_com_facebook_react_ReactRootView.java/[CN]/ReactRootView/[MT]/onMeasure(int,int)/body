{
  int widthMode=MeasureSpec.getMode(widthMeasureSpec);
  int heightMode=MeasureSpec.getMode(heightMeasureSpec);
  if (widthMode == MeasureSpec.UNSPECIFIED || heightMode == MeasureSpec.UNSPECIFIED) {
    throw new IllegalStateException("The root catalyst view must have a width and height given to it by it's parent view. " + "You can do this by specifying MATCH_PARENT or explicit width and height in the layout.");
  }
  setMeasuredDimension(MeasureSpec.getSize(widthMeasureSpec),MeasureSpec.getSize(heightMeasureSpec));
  mWasMeasured=true;
  if (mAttachScheduled && mReactInstanceManager != null && mIsAttachedToWindow) {
    mAttachScheduled=false;
    UiThreadUtil.runOnUiThread(new Runnable(){
      @Override public void run(){
        Assertions.assertNotNull(mReactInstanceManager).attachMeasuredRootView(ReactRootView.this);
        mIsAttachedToInstance=true;
        getViewTreeObserver().addOnGlobalLayoutListener(getKeyboardListener());
      }
    }
);
  }
}
