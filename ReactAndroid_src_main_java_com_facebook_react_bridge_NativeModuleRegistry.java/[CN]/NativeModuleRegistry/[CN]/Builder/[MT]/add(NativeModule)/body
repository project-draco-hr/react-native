{
  ModuleDefinition registration=new ModuleDefinition(mModuleDefinitions.size(),module.getName(),module);
  Assertions.assertCondition(!mSeenModuleNames.contains(module.getName()),"Module " + module.getName() + " was already registered!");
  mSeenModuleNames.add(module.getName());
  mModuleDefinitions.add(registration);
  mModuleInstances.put((Class<NativeModule>)module.getClass(),module);
  return this;
}
