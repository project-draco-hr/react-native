{
  if (mReactInstanceManager != null && mReactInstanceManager.getDevSupportManager().getDevSupportEnabled()) {
    if (keyCode == KeyEvent.KEYCODE_MENU) {
      mReactInstanceManager.showDevOptionsDialog();
      return true;
    }
    if (keyCode == KeyEvent.KEYCODE_R && !(getCurrentFocus() instanceof EditText)) {
      if (mDoRefresh) {
        mReactInstanceManager.getDevSupportManager().handleReloadJS();
        mDoRefresh=false;
      }
 else {
        mDoRefresh=true;
        new Handler().postDelayed(new Runnable(){
          @Override public void run(){
            mDoRefresh=false;
          }
        }
,200);
      }
    }
  }
  return super.onKeyUp(keyCode,event);
}
